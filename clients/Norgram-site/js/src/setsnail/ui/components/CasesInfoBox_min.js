function CasesInfoBox(data){function updateRatio(){for(var ratio=Assets.SCROLL_CONTROLLER.getScrollRatio()*(_numOfCases-1),i=0;_numOfCases>i;i++){var infoRatio;infoRatio=i>ratio?0:ratio>i+1?1:ratio-i,_cases[i].setRatio(ratio)}}function addCases(){_numOfCases=data.length;for(var i=0;_numOfCases>i;i++){var info=new CaseInfo(data[i][0],i);info.init(),_cases.push(info),_instance.appendChild(info)}}var _instance=document.createElement("div");_instance.style.position="absolute",_instance.style.backgroundColor=UIColors.WHITE;var _cases=[];return _instance.init=function(){addCases(),Assets.SCROLL_CONTROLLER.addEventListener(ScrollController.ON_SCROLL_MOVE,updateRatio),updateRatio()},_instance.kill=function(){Assets.SCROLL_CONTROLLER.removeEventListener(ScrollController.ON_SCROLL_MOVE,updateRatio)},_instance.setSize=function(width,height){_width=width,_height=height;for(var i=0;_numOfCases>i;i++)_cases[i].setSize(_width,_height);TweenMax.set(_instance,{width:_width,height:_height})},_instance}function CaseInfo(data,index){function addHeadline(){var textData=ContentManager.getChildByAttr(data,"name","headline");null!=textData&&(_headline=Text.getNewLight(23),_headline.innerHTML=textData.innerHTML,_headline.style.color=UIColors.DARK,_instance.appendChild(_headline))}function addBottomInfo(){_smallContentContainer=new CaseSmallInfo(data),_instance.appendChild(_smallContentContainer)}var _instance=document.createElement("div");_instance.style.position="absolute",_instance.style.backgroundColor=UIColors.WHITE;var _width,_height,_headline,_smallContentContainer,_ratio=0;return _instance.init=function(){addHeadline(),addBottomInfo()},_instance.setSize=function(width,height){_width=width,_height=height,TweenMax.set(_instance,{width:_width,height:_height}),null!=_headline&&(TweenMax.set(_headline,{x:10,y:SiteGuides.getCenterOffset()-Text.getOffsetY(_headline)}),_headline.updateLineHeight()),TweenMax.set(_smallContentContainer,{x:10,y:_height-SiteGuides.OFFSET_BOTOM-39})},_instance.setRatio=function(ratio){_ratio=MathUtils.ratioFromRatio(index-.5,index+.5,ratio);var doubleRatio=2*_ratio;_ratio=doubleRatio,doubleRatio>1&&(_ratio=2-doubleRatio),_instance.style.opacity=_ratio},_instance}function CaseSmallInfo(data){function addBottomInfo(){var yPos=0,spacing=14,clientTag=getSmallText("Client:",yPos,0),client=getSmallText(ContentManager.getChildByAttr(data,"name","client").innerHTML,yPos,50);yPos+=spacing;var projectTag=getSmallText("Project:",yPos,0),project=getSmallText(ContentManager.getChildByAttr(data,"name","project").innerHTML,yPos,50);yPos+=spacing;var yearTag=getSmallText("Year:",yPos,0),year=getSmallText(ContentManager.getChildByAttr(data,"name","year").innerHTML,yPos,50);_instance.appendChild(clientTag),_instance.appendChild(projectTag),_instance.appendChild(yearTag),_instance.appendChild(client),_instance.appendChild(project),_instance.appendChild(year)}function getSmallText(content,yPos,xPos){var text=Text.getNewReg(13);return TweenMax.set(text,{x:xPos,y:yPos-Text.getOffsetY(text)}),text.style.color=UIColors.FONT_MED_ON_WHITE,text.style.whiteSpace="nowrap",text.innerHTML=content,text}var _instance=document.createElement("div");return _instance.style.position="absolute",addBottomInfo(),_instance}