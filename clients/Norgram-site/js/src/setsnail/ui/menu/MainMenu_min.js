function MainMenu(){function addMenuContent(){_content=new MenuContent,_content.init(),_instance.appendChild(_content)}function addBorder(){_border=new MenuBorder(SiteGuides.MAIN_MENU_WIDTH),_border.init(),_border.onClick(onBorderClick),_instance.appendChild(_border)}function onBorderClick(){toggleState()}function toggleState(){_state=_state==MainMenu.OPEN?MainMenu.CLOSED:MainMenu.OPEN;var speed=.2;TweenMax.to(_border,speed,{x:-MainMenu.BORDER_WIDTH,ease:Quart.easeOut,onComplete:onBorderOut}),_state==MainMenu.CLOSED?(_content.close(speed),TweenMax.to(Assets.LAYER_TEMPLATE_OFFSET,speed,{x:0,ease:Quart.easeOut})):TweenMax.to(Assets.LAYER_TEMPLATE_OFFSET,speed,{x:0,ease:Quart.easeOut})}function onBorderOut(){_border.setState(_state),TweenMax.to(_border,.2,{x:0,ease:Quart.easeOut});var openSpeed=.5;_state==MainMenu.OPEN?(_content.open(openSpeed),TweenMax.to(Assets.LAYER_TEMPLATE_OFFSET,openSpeed,{x:MainMenu.BORDER_WIDTH+_content.getWidth(),ease:Expo.easeOut})):TweenMax.to(Assets.LAYER_TEMPLATE_OFFSET,.2,{x:MainMenu.BORDER_WIDTH,ease:Quart.easeOut})}MainMenu.OPEN="OPEN",MainMenu.CLOSED="CLOSED",MainMenu.BORDER_WIDTH=SiteGuides.MAIN_MENU_WIDTH;var _instance=document.createElement("div");_instance.style.position="absolute";var _border,_content,_state=MainMenu.CLOSED;return _instance.init=function(){addMenuContent(),addBorder(),TweenMax.set(Assets.LAYER_TEMPLATE_OFFSET,{x:MainMenu.BORDER_WIDTH})},_instance.openMenu=function(){_state==MainMenu.CLOSED&&toggleState()},_instance.collapseMenu=function(){_state==MainMenu.OPEN&&toggleState()},_instance}